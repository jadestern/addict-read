# AI 기반 RSS Reader 개발 로드맵

## 📋 개발 개요

이 문서는 AI 기반 RSS Reader의 MVP 기능 개발을 위한 우선순위 테스크와 구현 가이드를 담고 있습니다.

**프로젝트 기술 스택**:
- Frontend: React 19 + TypeScript + TailwindCSS
- 데이터 동기화: Jazz (Local-first architecture)
- 빌드 도구: Vite
- 패키지 매니저: Bun
- 배포: Netlify

---

## 🚀 최우선 개발 테스크 (Phase 1)

### 1. RSS 피드 파싱 및 기본 표시 기능 ⭐️ **[실제 시작점]**

**목표**: 하나의 RSS URL을 입력받아 파싱하고 기사 목록을 화면에 표시 (로컬 상태 기반)

**중요도**: 🔥 최우선 (실제 작동하는 것부터 만들기)

#### 구현 내용
1. **간단한 RSS 파싱 API**:
   ```typescript
   // netlify/functions/parse-rss.ts
   // RSS URL을 받아서 파싱된 데이터 반환
   interface ParsedFeed {
     title: string;
     url: string;
     articles: ParsedArticle[];
   }
   
   interface ParsedArticle {
     title: string;
     link: string;
     pubDate: string;
   }
   ```

2. **로컬 상태 관리**:
   ```typescript
   // 일단 React useState로 시작
   const [currentFeed, setCurrentFeed] = useState<ParsedFeed | null>(null);
   const [articles, setArticles] = useState<ParsedArticle[]>([]);
   ```

3. **기본 UI 컴포넌트**:
   - RSS URL 입력 필드
   - 파싱 결과 표시 (피드 제목, 기사 목록)
   - 로딩 상태 및 에러 처리

#### 완료 조건
- [ ] RSS URL 하나 입력받기
- [ ] 해당 RSS 파싱해서 기사 목록 가져오기  
- [ ] 기사 제목, 링크, 날짜 화면에 표시
- [ ] 에러 처리 (잘못된 URL, 파싱 실패)
- [ ] 기본적인 로딩 상태 표시

#### 예상 소요 시간: 3-4시간

---

### 2. 최소 Jazz 스키마 설계 (로그인 확장 준비)

**목표**: 1번에서 파악한 실제 데이터 구조를 바탕으로 로컬 우선 + 나중에 계정 연결 가능한 스키마 설계

**중요도**: 🔥 높음 (현재는 로컬, 나중에 동기화 확장)

#### 구현 내용
1. **확장 가능한 RSSFeed 스키마**:
   ```typescript
   // src/schema.ts - 기존 Jazz 구조 유지하면서 확장
   export const RSSFeed = co.map({
     url: z.string(),
     title: z.string(),
     // 나중에 계정 연결 시 사용할 구멍
     userId: z.string().optional(), // 로그인 후 연결용
   });
   ```

2. **확장 가능한 Article 스키마**:
   ```typescript
   export const Article = co.map({
     title: z.string(),
     url: z.string(),
     feedUrl: z.string(),
     isRead: z.boolean().default(false),
     // 나중에 계정 연결 시 사용할 구멍  
     userId: z.string().optional(),
   });
   ```

3. **AccountRoot 확장 준비**:
   ```typescript
   export const AccountRoot = co.map({
     dateOfBirth: z.date(),
     // 로그인 후 기존 로컬 데이터 연결용 구멍
     importedFeeds: co.list(RSSFeed).optional(),
     importedArticles: co.list(Article).optional(),
   });
   ```

4. **하이브리드 데이터 관리**:
   - 현재: React useState + localStorage
   - 나중에: Jazz CoValue 동기화

#### 완료 조건
- [ ] 로컬 우선 데이터 구조 설계
- [ ] 나중에 계정 연결 가능한 "구멍" 준비
- [ ] 기존 Jazz 구조 유지
- [ ] localStorage 기반 데이터 저장/로드
- [ ] 로그인 UI 숨김 처리

#### 예상 소요 시간: 2-3시간

---

### 3. 다중 피드 관리 및 기사 목록

**목표**: 여러 RSS 피드를 추가/삭제하고 통합 기사 목록 표시 (로컬 저장)

**중요도**: 🔥 높음 (실제 RSS Reader의 핵심 기능)

#### 구현 내용
1. **다중 피드 관리**:
   - 여러 RSS 피드 추가/삭제
   - localStorage에 피드 목록 저장
   - 피드별 기사 목록 관리

2. **통합 기사 목록**:
   - 모든 피드의 기사를 하나의 목록으로 표시
   - 읽음/안 읽음 상태 관리 (localStorage)
   - 기사 클릭 시 읽음 상태 자동 변경

3. **기본 UI 컴포넌트**:
   ```typescript
   // 로컬 상태 기반
   const [feeds, setFeeds] = useState<RSSFeed[]>([]);
   const [articles, setArticles] = useState<Article[]>([]);
   ```

#### 파일 구조
```
src/
  components/
    FeedManager.tsx       // 피드 추가/삭제 관리
    ArticleList.tsx       // 통합 기사 목록
    ArticleItem.tsx       // 개별 기사 아이템
  hooks/
    useLocalStorage.ts    // localStorage 관리 훅
    useFeeds.ts          // 피드 관리 훅
```

#### 완료 조건
- [ ] 여러 RSS 피드 추가/삭제
- [ ] localStorage에 데이터 영구 저장
- [ ] 모든 피드의 기사 통합 표시
- [ ] 읽음/안 읽음 상태 관리
- [ ] 중복 피드 방지

#### 예상 소요 시간: 4-5시간

---

## 🔄 Phase 1 완료 후 다음 단계

1. **로그인 기능 활성화 및 데이터 마이그레이션**
   - 기존 Jazz 인증 시스템 활성화
   - 로컬 데이터를 계정 데이터로 마이그레이션
   - 다중 기기 동기화 구현

2. **기사 본문 읽기 기능** (US-4)
3. **RSS 피드 자동 업데이트** (백그라운드 동기화)  
4. **검색 및 고급 필터링**
5. **AI 기반 요약 및 추천** (MVP 이후)

---

## 🛠 개발 가이드라인

### 코딩 컨벤션
- **언어**: 모든 컴포넌트명, 주석, 문서는 한글 사용
- **패키지 매니저**: Bun 사용 (`bun run dev`, `bun add` 등)
- **상태 관리**: 
  - **현재**: React useState + localStorage (로컬 우선)
  - **나중에**: Jazz CoValue로 마이그레이션
- **스타일링**: TailwindCSS 유틸리티 클래스 사용

### 로컬 우선 개발 원칙
- 모든 데이터는 일단 localStorage에 저장
- Jazz 스키마는 나중에 마이그레이션할 수 있도록 설계
- 로그인 UI는 숨김 처리 (구조는 유지)

### 테스트 전략
- E2E 테스트: Playwright로 주요 사용자 플로우 테스트
- 컴포넌트 테스트: 필요시 추가
- 실시간 동기화 테스트: 멀티 브라우저 테스트

### 배포 전 체크리스트
- [ ] `bun run format-and-lint:fix` 실행
- [ ] `bun run build` 성공
- [ ] `bun run test:e2e` 통과
- [ ] 환경 변수 Netlify에 설정

---

## 📝 다음 세션에서 시작할 때

1. **첫 번째 테스크**: "RSS 피드 파싱 및 기본 표시 기능" 부터 시작
2. **체크 포인트**: 하나의 RSS URL 파싱해서 기사 목록 화면에 표시
3. **개발 전략**: 로컬 상태 → 실제 작동 → 나중에 Jazz 마이그레이션

**시작 명령어**:
```bash
bun run dev  # 개발 서버 시작
```

**첫 작업**:
- RSS 파싱 API 구현 (netlify/functions/)
- 간단한 URL 입력 폼 + 결과 표시 UI